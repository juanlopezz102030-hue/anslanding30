<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CAYO URUGUAY - BIENVENIDO</title>

  <style>
    :root {
      --card-height: 55vh;
      --card-width: calc(var(--card-height) * 9 / 16);
      --card-radius: 20px;
      --aura-size: 30px;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(circle at top left, #140032 0%, #04010e 100%);
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
      color: #fff;
    }

    @keyframes pagePulse {
      0% { transform: translate3d(0,0,0) scale(1); opacity:.85 }
      50% { transform: translate3d(0,-2%,0) scale(1.03); opacity:1 }
      100% { transform: translate3d(0,1.5%,0) scale(1.02); opacity:.92 }
    }

    @media (prefers-reduced-motion: reduce) {
      .page-aura, .aura, .wa-chip, .wa-chip::before { animation: none !important; }
    }

    /* Carrusel */
    #carousel {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      padding: 40px 0 64px;
      gap: 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
      overscroll-behavior-x: contain;
      touch-action: pan-x;
    }
    #carousel::-webkit-scrollbar { display: none; }

    .card-wrapper {
      position: relative;
      flex: 0 0 auto;
      scroll-snap-align: center;
      width: var(--card-width);
      height: var(--card-height);
      margin: 0 10px;
    }

    .aura {
      position: absolute;
      top: calc(-1 * var(--aura-size) / 2);
      left: calc(-1 * var(--aura-size) / 2);
      right: calc(-1 * var(--aura-size) / 2);
      bottom: calc(-1 * var(--aura-size) / 2);
      border-radius: calc(var(--card-radius) + var(--aura-size));
      background:
        radial-gradient(circle at 30% 30%, rgba(255, 0, 200, 0.6), transparent 70%),
        radial-gradient(circle at 70% 70%, rgba(0, 200, 255, 0.6), transparent 70%);
      filter: blur(25px);
      z-index: 0;
      animation: auraPulse 6s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes auraPulse {
      0% { opacity:.7; transform:scale(1) }
      50% { opacity:1; transform:scale(1.05) }
      100%{ opacity:.7; transform:scale(1) }
    }

    .card {
      position: relative;
      width:100%;
      height:100%;
      border-radius:var(--card-radius);
      overflow:hidden;
      box-shadow:0 4px 20px rgba(0,0,0,.6);
      z-index:1;
      background:#0b0b12;
    }

    .card img,
    .card video {
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    /* Aviso scroller */
    .notice-wrap{
      position: relative;
      display: block;
      margin: 18px 0 10px;
      height: 24px;
      overflow: hidden;
    }
    .notice-rail{
      display: inline-flex;
      gap: 40px;
      align-items: center;
      white-space: nowrap;
      will-change: transform;
      animation: noticeSlide 20s linear infinite;
    }
    .notice-item{
      font: 800 13px/24px system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      letter-spacing: .35px;
      color: rgba(255,255,255,.92);
    }
    .notice-item .dim{ color: rgba(255,255,255,.65); font-weight: 700; }
    .notice-dot{ opacity:.45; margin: 0 12px; }

    @keyframes noticeSlide{ 0%{ transform: translateX(0) } 100%{ transform: translateX(-50%) } }
    @media (min-width:768px){
      .notice-wrap{ height: 26px }
      .notice-item{ font-size:14px; line-height:26px }
    }

    /* CTA WhatsApp */
    .wa-cta-wrap{
      display:flex;
      justify-content:center;
      margin: 56px 0 40px;
    }
    .wa-cta{
      position: relative;
      z-index: 5;
      display:flex;
      align-items:center;
      gap:10px;
      width: min(88vw, 680px);
      padding: 14px 18px;
      border-radius: 16px;
      background:#25D366;
      color:#0b2b13;
      font: 700 16px/1.3 system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      text-decoration:none;
      box-shadow: 0 8px 22px rgba(37,211,102,.35);
      animation: floatCTA 3s ease-in-out infinite, glowPulse 2.6s ease-in-out infinite;
    }
    .wa-cta .wa-text{ flex:1; text-align:center; white-space:nowrap; }

    .wa-cta .wa-logo {
      width:26px;
      height:26px;
      border-radius:50%;
      background:#0b2b13;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:16px;
      font-weight:900;
      color:#25D366;
    }

    @keyframes floatCTA { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
    @keyframes glowPulse {
      0% { box-shadow: 0 8px 22px rgba(37,211,102,.25), 0 0 0 rgba(37,211,102,0); }
      50% { box-shadow: 0 10px 26px rgba(37,211,102,.45), 0 0 18px rgba(37,211,102,.35); }
      100% { box-shadow: 0 8px 22px rgba(37,211,102,.25), 0 0 0 rgba(37,211,102,0); }
    }

    @media (min-width: 768px){
      .wa-cta-wrap{ margin:64px 0 48px }
      .wa-cta{ width:min(80vw,760px); font-size:17px; }
      .wa-cta .wa-logo{ width:28px; height:28px; }
    }

    /* Fades laterales para notice */
    .notice-wrap{ background: transparent; }
    .notice-rail{
      -webkit-mask-image: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
      mask-image: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
    }
  </style>
</head>
<body>
  <div class="page-aura" aria-hidden="true"></div>

  <div id="carousel" aria-label="Promociones destacadas">
    <!-- Primer slide: se carga video de inmediato -->
    <div class="card-wrapper">
      <div class="aura" aria-hidden="true"></div>
      <div class="card" data-video="bet30-preview.mp4" data-poster="bet30-preview.jpg">
        <img src="bet30-preview.jpg" alt="Promo CAYO Uruguay 1" loading="eager">
      </div>
    </div>

    <!-- Estos dos se convierten en video sólo cuando el user los ve -->
    <div class="card-wrapper">
      <div class="aura" aria-hidden="true"></div>
      <div class="card" data-video="ganamos-preview.mp4" data-poster="ganamos-preview.jpg">
        <img src="ganamos-preview.jpg" alt="Promo CAYO Uruguay 2" loading="lazy">
      </div>
    </div>

    <div class="card-wrapper">
      <div class="aura" aria-hidden="true"></div>
      <div class="card" data-video="rhinoplay-preview.mp4" data-poster="rhinoplay-preview.jpg">
        <img src="rhinoplay-preview.jpg" alt="Promo CAYO Uruguay 3" loading="lazy">
      </div>
    </div>
  </div>

  <!-- Aviso -->
  <div class="notice-wrap" aria-label="Aviso importante">
    <div class="notice-rail">
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
    </div>
    <div class="notice-rail">
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
      <span class="notice-item">CAYÓ URUGUAY<span class="notice-dot">•</span><span class="dim">MÍNIMO 300 UYU</span><span class="notice-dot">•</span>RETIROS 12:00 A 23:30</span>
    </div>
  </div>

  <!-- CTA WhatsApp -->
  <div class="wa-cta-wrap">
    <a class="wa-cta"
       href="https://api.whatsapp.com/send?phone=59891994768"
       target="_blank"
       rel="noopener"
       aria-label="Escribinos por WhatsApp"
       onclick="if (window.fbq) fbq('track','WhatsappClick');">
      <div class="wa-logo">W</div>
      <span class="wa-text">ESCRIBINOS POR WHATSAPP</span>
    </a>
  </div>

  <!-- Meta Pixel: se inicializa después del load para no frenar el FCP -->
  <script>
    window.addEventListener('load', function () {
      !function(f,b,e,v,n,t,s){
        if(f.fbq)return;n=f.fbq=function(){n.callMethod?
          n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)
      }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');

      fbq('init', '767728059169192');
      fbq('track', 'PageView');
    });
  </script>

  <!-- Lazy-video: carga solo el primero y el resto cuando entran en pantalla -->
  <script>
    (function(){
      const carousel = document.getElementById('carousel');
      const cards = document.querySelectorAll('.card[data-video]');
      if (!cards.length) return;

      function loadVideo(card) {
        if (card.dataset.loaded) return;
        const video = document.createElement('video');
        video.autoplay = true;
        video.loop = true;
        video.muted = true;
        video.playsInline = true;
        video.poster = card.dataset.poster || '';
        video.preload = 'auto';

        const source = document.createElement('source');
        source.src = card.dataset.video;
        source.type = 'video/mp4';
        video.appendChild(source);

        card.innerHTML = '';
        card.appendChild(video);
        card.dataset.loaded = '1';
      }

      // Primer slide: video al toque
      loadVideo(cards[0]);

      // Resto: sólo cuando se ven
      if ('IntersectionObserver' in window) {
        const io = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              loadVideo(entry.target);
              io.unobserve(entry.target);
            }
          });
        }, {
          root: carousel,
          threshold: 0.6
        });

        for (let i = 1; i < cards.length; i++) {
          io.observe(cards[i]);
        }
      } else {
        // Fallback: si no hay IO, cargamos todos
        for (let i = 1; i < cards.length; i++) {
          loadVideo(cards[i]);
        }
      }
    })();
  </script>

  <noscript>
    <img height="1" width="1" style="display:none"
         src="https://www.facebook.com/tr?id=767728059169192&ev=PageView&noscript=1" alt="">
  </noscript>
</body>
</html>
